<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo03" aria-controls="navbarTogglerDemo03" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
    <%= link_to "Sandbox App", root_path, class: "navbar-brand" %>
  <div class="collapse navbar-collapse" id="navbarTogglerDemo03">
    <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
      <% unless user_signed_in? %>
        <li class="nav-item">
          <%= link_to "Log in", new_user_session_path, class: "nav-link" %>
        </li>
        <li class="nav-item">
          <%= link_to "Sign up", new_user_registration_path, class: "nav-link" %>
        </li>
      <% else %>
        <li class="nav-item">
          <%= link_to "Log out", destroy_user_session_path, method: :delete, class: "nav-link" %>
        </li>
      <% end %>
      <li class="nav-item">
        <%= link_to "New task", new_task_path, class: "nav-link" %>
      </li>
    </ul>
    <div class="dropdown">
      <button class="btn btn-primary dropdown-toggle" id="menu1" type="button" data-toggle="dropdown">
        <img class="rounded-circle" height="50px" width="50px" src="http://digitalspyuk.cdnds.net/17/25/320x320/square-1498216547-avatar-neytiri.jpg">
        <span class="caret"></span>
      </button>
      <ul class="dropdown-menu" role="menu" aria-labelledby="menu1">
        <% unless user_signed_in? %>
          <li role="presentation"><%= link_to "Log in", new_user_session_path, class: "nav-link" %></li>
          <li role="presentation"><%= link_to "Sign up", new_user_registration_path, class: "nav-link" %></li>
        <% else %>
          <li role="presentation"><%= link_to "Log out", destroy_user_session_path, method: :delete, class: "nav-link" %></li>
        <% end %>
        <li role="presentation"><%= link_to "New task", new_task_path, class: "nav-link" %></li>
      </ul>
    </div>
  </div>
</nav>

<script>
  $(function () {
    $('button').click(function() {
      $('div.dropdown > ul').toggle();
    });
    $loginModal = $(".login-modal").eq(0); 
    $loginBtn = $('.nav-link:contains("Log in")')

    $loginBtn.click( (event) => {
      event.preventDefault();
      $loginModal.toggle()
    })

    $signInModal = $(".login-modal").eq(1); 
    $signInBtn = $('.nav-link:contains("Sign up")')

    $signInBtn.click( (event) => {
      event.preventDefault();
      $signInModal.toggle()
    })

    $closeIcon = $('#close');
    $closeIcon1 = $('#close1');

    $closeIcon.click( () => {
      $loginModal.hide();
    }) 
    $closeIcon1.click( () => {
      $signInModal.hide();
    })
  });
</script>